/* VARIABLES */
@color-foreground: #CCCCCC;

@height: 12px;
@width: 72px;

/* STYLES */
.skill-level {
  width: @width;
  height: @height;
  position: relative;

  margin-top: 4px;
  margin-bottom: 4px;

  .skill-level-svg {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
  }

  /* Required skill level styling */
  &.ok {
    .frame { stroke: @brand-success; }
    .level { fill: @brand-success; }
  }
  &.partial {
    .frame { stroke: @brand-warning; }
  }
  &.no {
    .frame { stroke: @brand-danger; }
  }

  .frame {
    fill: transparent;
  }
  .level {
    fill-opacity: 0;

    &.need {
      fill: @brand-danger;
      fill-opacity: 0.5!important;
    }
    &.queued { fill: @brand-primary; fill-opacity: 0.5; }
    &.have:not(.ok .level) { fill: @color-foreground; }
    &.training { animation: training 1s ease 0s infinite alternate; }
    &.have { fill-opacity: 1; }
  }
}

@skill-level-b-height: 5px;
@skill-level-b-border: lighten(@gray-light, 20%);
.skill-level-b {

  /* Remove pesky gaps */
  font-size: 0px;

  clear: both;
  position: relative;
  height: @skill-level-b-height;
  line-height: @skill-level-b-height;

  border-top: 1px solid @skill-level-b-border;
  margin-right: -8px;

  .level {

    width: 20%;
    height: @skill-level-b-height;
    display: inline-block;

    background: transparent;
    border-right: 1px solid @skill-level-b-border;

    &:last-of-type { border-right: none; }

    /* Specific styles */
    &.need { background: fadeout(@brand-danger, 50%); }
    &.queued { background: @brand-info;  }
    &.training { animation: trainingb 1s linear 0s infinite alternate; }
    &.have {
      background: lighten(@gray-light, 10%);
      border-right-color: white;
    }

    /* Force grren appearance when requested by parent element */
    .success & { background: lighten(@brand-success, 10%); }
  }
}

/* RESOURCES */
@keyframes training {
  0% { fill-opacity: 1; }
  100% { fill-opacity: 0.5; }
}

@keyframes trainingb {
  0% { opacity: 1; }
  100% { opacity: 0; }
}
